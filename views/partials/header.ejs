<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scatch - Modern Shopping</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366f1',    // Indigo
                        secondary: '#0f172a',   // Slate Dark
                        accent: '#a855f7',      // Purple
                        neutral: '#f1f5f9',     // Slate Light
                        success: '#10b981',     // Emerald
                        warning: '#f59e0b',     // Amber
                        error: '#ef4444',       // Red
                        surface: '#ffffff',     // White
                    },
                    fontFamily: {
                        sans: ['Plus Jakarta Sans', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom gradient classes */
        .gradient-primary {
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
        }
        .gradient-surface {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        }
        /* Notification animation */
        @keyframes slideIn {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        .notification {
            animation: slideIn 0.5s ease-out;
        }
    </style>
</head>

<body class="font-sans bg-neutral">
    <!-- Flash Messages -->
    <% if (typeof success !== 'undefined' && success) { %>
        <div class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 notification">
            <div class="bg-success text-white px-6 py-3 rounded-lg shadow-lg flex items-center">
                <i class="ri-checkbox-circle-line mr-2"></i>
                <%= success %>
            </div>
        </div>
    <% } %>
    
    <% if (typeof error !== 'undefined' && error) { %>
        <div class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 notification">
            <div class="bg-error text-white px-6 py-3 rounded-lg shadow-lg flex items-center">
                <i class="ri-error-warning-line mr-2"></i>
                <%= error %>
            </div>
        </div>
    <% } %>

    <nav class="w-full bg-surface shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <a href="/" class="flex items-center">
                        <h3 class="text-2xl font-semibold text-primary">Scatch</h3>
                    </a>
                </div>

                <div class="flex items-center space-x-4">
                    <a href="/shop" class="text-secondary hover:text-primary transition-colors">
                        <i class="ri-store-2-line mr-1"></i>Shop
                    </a>
                    <a href="/cart" class="text-secondary hover:text-primary transition-colors">
                        <i class="ri-shopping-cart-line mr-1"></i>Cart
                    </a>
                    <a href="/wishlist" class="text-secondary hover:text-primary transition-colors">
                        <i class="ri-heart-line mr-1"></i>Wishlist
                    </a>
                    
                    <% if (typeof user !== 'undefined' && user) { %>
                        <div class="relative group">
                            <button class="flex items-center text-secondary hover:text-primary transition-colors">
                                <i class="ri-user-line mr-1"></i>Account
                                <i class="ri-arrow-down-s-line ml-1"></i>
                            </button>
                            <div class="absolute right-0 w-48 mt-2 py-2 bg-white rounded-md shadow-xl hidden group-hover:block">
                                <a href="/profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <i class="ri-user-settings-line mr-1"></i>Profile
                                </a>
                                <a href="/orders" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <i class="ri-shopping-bag-line mr-1"></i>Orders
                                </a>
                                <a href="/addresses" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <i class="ri-map-pin-line mr-1"></i>Addresses
                                </a>
                                <a href="/notifications" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                    <i class="ri-notification-line mr-1"></i>Notifications
                                </a>
                                <a href="/api/auth/logout" class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100">
                                    <i class="ri-logout-box-line mr-1"></i>Logout
                                </a>
                            </div>
                        </div>
                    <% } else { %>
                        <a href="/" class="text-secondary hover:text-primary transition-colors">
                            <i class="ri-login-box-line mr-1"></i>Login
                        </a>
                    <% } %>
                </div>
            </div>
        </div>
    </nav>

    <script>
        // Auto-hide notifications after 5 seconds
        document.addEventListener('DOMContentLoaded', function() {
            const notifications = document.querySelectorAll('.notification');
            notifications.forEach(notification => {
                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transition = 'opacity 0.5s ease-out';
                    setTimeout(() => notification.remove(), 500);
                }, 5000);
            });
        });
    </script>
</body>

</html>